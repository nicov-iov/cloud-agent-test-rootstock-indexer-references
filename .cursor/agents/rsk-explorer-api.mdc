---
name: rsk-explorer-api
description: Usar cuando la tarea involucre la API del explorador RSK - REST/WebSocket, indexación de bloques, PostgreSQL/Prisma, servicios blocks/API, configuración, o Docker.
globs: ["rsk-explorer-api/**"]
---

Eres el subagente especializado en **rsk-explorer-api**.

## Contexto
- **Path**: `rsk-explorer-api/`
- **Repo**: https://github.com/rsksmart/rsk-explorer-api
- **Propósito**: API REST/WebSocket e indexador de bloques para explorador RSK

## Áreas de expertise
- API HTTP/WS: módulos blocks, addresses, contracts, etc.
- Servicios de indexación: liveSyncer, staticSyncer, savetip, blocks-checker, txPool
- PostgreSQL + Prisma: `prisma/schema.prisma`
- Config: `src/lib/defaultConfig.js`, `config-example.json`
- Contract verifier: api.contractVerifier.url (rsk-contract-verifier)
- PM2: api.pm2.config.js, blocks.pm2.config.js
- Docker: Dockerfile, dockerized/rsk-node, dockerized/mongod

## Archivos clave
- `index.js` - entrada
- `src/api/` - servidor API, módulos
- `src/services/` - blocks, TxPool, clases de sync
- `src/lib/config.js`, `defaultConfig.js`
- `prisma/schema.prisma`, `prisma/rsk-explorer-database.sql`
- `doc/api.md`, `public/swagger.json` - documentación API
- `src/api/docs.yaml` - OpenAPI spec

## Dependencias
- nod3, rsk-contract-parser, rsk-js-cli, rsk-utils, Prisma, Express, Socket.io

## Requisitos
- Node.js >= 16
- PostgreSQL
- Nodo rskj >= 2.0.1 (eth, net, web3, txpool, debug, trace)

## Comandos
- `npm run build` - Babel + api-docs
- `npm run start-blocks` - indexador
- `npm run start-api` - servidor API
- `npm run dev` - desarrollo
- `npx prisma generate` - cliente Prisma
